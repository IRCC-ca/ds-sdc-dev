@use "../../util/device";
@use "../../util/theme";
@use "../../util/color";
@use "../template-const";

@mixin create($palette: (neutral, active, visited, cta)) {
  @at-root {
    #{template-const.$root-selectors} {
      @each $key in $palette {
        @include tokens($key);
      }
    }
  }
}

@mixin tokens($palette) {
  @include theme.light() {
    @if $palette == neutral {
      --#{$palette}-indicator-grey: #{color.mix-token($palette, 900)};
      --#{$palette}-indicator-white: #{color.mix-token($palette, 100)};
    }

    @else if $palette == active {
      --#{$palette}-indicator-blue: #{color.mix-token($palette, 900)};
    }

    @else if $palette == visited {
      --#{$palette}-indicator-purple: #{color.mix-token($palette, 900)};
    }

    @else if $palette == cta {
      --#{$palette}-indicator-navy: #{color.mix-token($palette, 700)};
    }
  }

  @include theme.dark() {
    @if $palette == neutral {
      --#{$palette}-indicator-grey: #{color.mix-token($palette, 900)};
      --#{$palette}-indicator-white: #{color.mix-token($palette, 100)};
    }

    @else if $palette == active {
      --#{$palette}-indicator-blue: #{color.mix-token($palette, 900)};
    }

    @else if $palette == visited {
      --#{$palette}-indicator-purple: #{color.mix-token($palette, 900)};
    }

    @else if $palette == cta {
      --#{$palette}-indicator-navy: #{color.mix-token($palette, 700)};
    }
  }
}
