<div
  class="email-verification"
  style="margin: 32px 0 0 0"
>
  <ng-container *ngIf="status === 'start'; else second">
    <div>
      <p>
        {{ 'Please verify your mail before submitting the form' | translate }}
      </p>
      <div style="display: grid; grid-template-columns: 50% 50%">
        <div style="display: flex; align-items: center">
          <ircc-cl-lib-input
            [config]="emailconfig"
            style="margin-right: 25px"
          ></ircc-cl-lib-input>
        </div>
        <div style="display: flex; align-items: flex-end">
          <ircc-cl-lib-button
            [config]="buttonConfig"
            (click)="sendSocketMessage()"
            >Verify Email</ircc-cl-lib-button
          >
        </div>
      </div>
    </div>
  </ng-container>
  <ng-template #second>
    <ng-container *ngIf="status === 'waiting'; else third">
      <div style="display: grid; grid-template-columns: 100%">
        <p>
          {{
            'Please check your email and click the verification link. The email might appear in your spam folder.'
              | translate
          }}
        </p>
        <div
          style="display: flex; align-items: center; justify-content: center"
        >
          <ircc-cl-lib-spinner></ircc-cl-lib-spinner>
        </div>
      </div>
    </ng-container>
  </ng-template>
  <ng-template #third>
    <ng-container *ngIf="status === 'verified'; else fourth">
      <div style="display: grid; grid-template-columns: 100%">
        <p>
          {{ 'Your email has been verified!' | translate }}
        </p>
        <div style="display: flex; align-items: center">
          <ircc-cl-lib-button
            [config]="buttonConfig"
            (click)="submitForm()"
            >{{ 'RequestForm.SubmitBtn' | translate }}</ircc-cl-lib-button
          >
        </div>
      </div>
    </ng-container>
  </ng-template>
  <ng-template #fourth>
    <ng-container *ngIf="status === 'done'">
      <div style="display: grid; grid-template-columns: 100%">
        <p>
          {{ 'Your form has been submitted' | translate }}
        </p>
      </div>
    </ng-container>
  </ng-template>
</div>

<div
  style="
    display: flex;
    align-items: center;
    justify-content: center;
    padding-top: 50px;
  "
>
  <ircc-cl-lib-button
    [config]="buttonConfig"
    (click)="reset()"
    >reset</ircc-cl-lib-button
  >
</div>
