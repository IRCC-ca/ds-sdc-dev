<div
  [id]="config.id"
  [attr.size]="config.size"
  class="lib-navigation"
>
  <div class="navigation-header">
    <ircc-cl-lib-icon
      class="icon-leading"
      [config]="{ FA_keywords: config?.iconLeading || '' }"
    ></ircc-cl-lib-icon>
    <h4>{{ config?.label || '' | translate }}</h4>
    <ircc-cl-lib-icon
      class="icon-trailing"
      [config]="{ FA_keywords: config?.iconTrailing || '' }"
    ></ircc-cl-lib-icon>
  </div>

  <div class="navigation-content-top">
    <ng-content select="[navigationContentTop]"></ng-content>
  </div>

  <div class="navigation-area">
    <ul class="parent-navigation">
      <ng-container
        *ngTemplateOutlet="
          recursiveListTmpl;
          context: { list: this.config.navigationConfig }
        "
      ></ng-container>
    </ul>
  </div>

  <ng-template
    #recursiveListTmpl
    let-list="list"
  >
    <li *ngFor="let item of list">
      <ng-container [ngSwitch]="item.type">
        <!--Type Heading-->
        <ng-container *ngSwitchCase="'heading'"
          ><ircc-cl-lib-nav-header [config]="item">
            <ul
              *ngIf="item.children.length > 0"
              class="child-navigation"
            >
              <ng-container
                *ngTemplateOutlet="
                  recursiveListTmpl;
                  context: { list: item.children }
                "
              ></ng-container></ul></ircc-cl-lib-nav-header
        ></ng-container>

        <!--Type Link-->
        <ng-container *ngSwitchCase="'link'"
          ><ircc-cl-lib-nav-item [config]="item">
            <ul
              *ngIf="item.children.length > 0"
              class="child-navigation"
            >
              <ng-container
                *ngTemplateOutlet="
                  recursiveListTmpl;
                  context: { list: item.children }
                "
              ></ng-container></ul></ircc-cl-lib-nav-item
        ></ng-container>

        <!--Type Accordion-->
        <ng-container *ngSwitchCase="'accordion'">
          <ircc-cl-lib-nav-accordion [config]="item">
            <ul
              *ngIf="item.children.length > 0"
              class="child-navigation"
            >
              <ng-container
                *ngTemplateOutlet="
                  recursiveListTmpl;
                  context: { list: item.children }
                "
              ></ng-container></ul
          ></ircc-cl-lib-nav-accordion>
        </ng-container>

        <!-- <ng-container *ngSwitchDefault>{{ item.label }}</ng-container> -->
      </ng-container>
    </li>
  </ng-template>

  <div class="navigation-content-bottom">
    <ng-content select="[navigationContentBottom]"></ng-content>
  </div>
</div>
