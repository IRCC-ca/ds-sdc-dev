<div>
  <form [formGroup]="config.formGroup">
    <div class="input-container" [ngClass]="config.size">
      <div class="input-text">
        <label *ngIf="config.label" class="input-label"
        [attr.aria-label]="
          config.formGroup.get(config.id)?.invalid && config.formGroup.get(config.id)?.dirty
          ? (config.label || '' | translate) + ' ' +
            (config.desc || '' | translate) + ' ' + ('INPUT.ERROR' | translate) + ' ' +
            (config.hint || '' | translate)
          : (config.label || '' | translate)  + ' ' +
            (config.desc || '' | translate) + ' ' +
            (config.hint || '' | translate)
       "
        >
          <div class="required-field-container" *ngIf="config.required">
            <i class="fa-regular fa-asterisk required-star"></i>{{(config.label || '') | translate}}
          </div>
          <div *ngIf="!config.required">
            {{(config.label || '') | translate}}
          </div>
        </label>
        <p *ngIf="config.desc" class="input-desc">{{(config.desc || '') | translate}}</p>
        <p *ngIf="config.hint" class="input-hint">{{ config.hint | translate }}</p>
        <div class="input-content-area" [ngClass]="focusState === true ? 'focus' : ''">
          <!-- ngModel doesn't mind undefined values, apparently
          TODO: Should probably change the (keyup) to (onblur) -->
          <input *ngIf="(config.type === 'text' || !config.type) && !showPassword" class="input-text-field" placeholder="{{ (config.placeholder || '') | translate }}"
            tabindex="0" [ngClass]="config.type" [type]="config.type" [disabled]="disabled" [id]="config.id" [formControlName]="config.id" [attr.aria-label]="
            'Text Input' + ' ' + (config.placeholder || '' | translate)
            "/>

          <input *ngIf="config.type === 'password' || showPassword" class="input-password-field" placeholder="{{ (config.placeholder || '') | translate }}"
            tabindex="0" [ngClass]="(showPassword || config.type === 'password') ? 'password' : 'input'"
            [type]="config.type" [id]="config.id" [disabled]="disabled" [formControlName]="config.id" [attr.aria-label]="
            'Password Input' + ' ' + (config.placeholder || '' | translate)
            "/>

          <button *ngIf="config.type === 'password' || showPassword" role="button" category="plain"
          tabindex="0" class="passwordIcon" (click)="hideShow()" [disabled]="disabled" aria-label="Password eye Icon" aria-live="polite">
            <div *ngIf="showPassword" role="img" attr.aria-label="{{ 'Input_Component.Password-icon.hide_password_aria-label' | translate }}"><i class="fa-solid fa-eye-slash"></i></div>
            <div *ngIf="!showPassword" role="img" attr.aria-label="{{ 'Input_Component.Password-icon.show_password_aria-label' | translate }}"><i class="fa-solid fa-eye"></i></div>
          </button>
        </div>
      </div>
      <div *ngIf="getErrorState()" class="check-error">
        <ng-container *ngFor="let error of config.errorMessages; index as i">
          <div *ngIf="config.formGroup.get(config.id)?.errors?.[error.key]">
            <lib-error [id]="config.id + '_error'" [errorLOV]="error.errorLOV" [icon]="config?.errorIcon"></lib-error>
          </div>
        </ng-container>
      </div>
    </div>
  </form>
</div>
