<!-- TODO: Fix how large is handled here to work with DS rather than against it -->
<div>
  <form [formGroup]="config.formGroup">
    <p *ngIf="config.type === 'password' || showPassword">TODO: This element does not actually have correct aria text on
      it!</p>
    <div class="input-container" [ngClass]="{ large: config.large, error: config.error }">
      <div class="input-text">
        <label class="input-label" for="{{ (config.value || '') }}">
          <i *ngIf="config.required" class="fa-regular fa-asterisk required-star">*</i>{{(config.label || '') | translate}}<span *ngIf="config.required">&nbsp;(required)</span>
        </label>
        <p *ngIf="config.desc" class="input-desc">{{(config.desc || '') | translate}}</p>
        <p *ngIf="config.hint" class="input-hint">{{ config.hint | translate }}</p>
        <div class="input-content-area" [ngClass]="focusState === true ? 'focus' : ''">
          <!-- ngModel doesn't mind undefined values, apparently
          TODO: Should probably change the (keyup) to (onblur) -->
          <input class="input-field" autocomplete="{{ config.autocomplete }}" placeholder="{{ (config.placeholder || '') | translate }}"
            tabindex="0" [ngClass]="(showPassword || config.type === 'password') ? 'password' : 'input'"
            [type]="config.type" [id]="config.id" [formControlName]="config.id" />

          <button *ngIf="config.type === 'password' || showPassword" role="switch" category="plain"
            class="passwordIcon" (click)="hideShow()" [disabled]="disabled">
            <div *ngIf="showPassword"><i class="fa-solid fa-eye-slash"></i></div>
            <div *ngIf="!showPassword"><i class="fa-solid fa-eye"></i></div>
          </button>
        </div>
      </div>
    </div>
  </form>
</div>