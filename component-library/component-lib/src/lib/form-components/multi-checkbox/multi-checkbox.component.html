<div class="parent-checkbox">
  <ng-container *ngIf="config.parent; else group">
    <ircc-cl-lib-checkbox [config]="config.parent"></ircc-cl-lib-checkbox>
    <ng-container *ngFor="let child of config.children">
      <ng-container
        *ngTemplateOutlet="
          recursiveListTmpl;
          context: { checkBoxConfig: child }
        "
      ></ng-container>
    </ng-container>
  </ng-container>
</div>

<ng-template #group>
  <ng-container *ngFor="let child of config.children">
    <ircc-cl-lib-checkbox [config]="child"></ircc-cl-lib-checkbox>
  </ng-container>
</ng-template>

<ng-template
  #recursiveListTmpl
  let-checkBoxConfig="checkBoxConfig"
>
  <div class="child-checkbox">
    <ircc-cl-lib-checkbox [config]="checkBoxConfig"></ircc-cl-lib-checkbox>
  </div>
</ng-template>

<ng-container *ngFor="let errors of errorMessagesAccumulator; let i = index">
  <div
    *ngIf="errorMessagesAccumulator.length > -1"
    class="radio-errors"
  >
    <ng-container *ngIf="config.parent; error">
      <ircc-cl-lib-error
        [id]="errors.id"
        [errorLOV]="errors.errorLOV"
        [attr.size]="config.parent.size"
      ></ircc-cl-lib-error>
    </ng-container>

    <ng-container #error>
      <ng-container *ngIf="config.children">
        <ircc-cl-lib-error
          [id]="errors.id"
          [errorLOV]="errors.errorLOV"
          [attr.size]="config.children[0].size"
        ></ircc-cl-lib-error
      ></ng-container>
    </ng-container>
  </div>
</ng-container>
